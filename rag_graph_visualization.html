<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAG Memory Graph - Interactive Visualization</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #0d1117;
            color: #c9d1d9;
            overflow: hidden;
        }

        #graph-container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }

        .controls {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(22, 27, 34, 0.95);
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 20px;
            z-index: 1000;
            max-width: 300px;
            backdrop-filter: blur(10px);
        }

        .controls h2 {
            font-size: 18px;
            margin-bottom: 15px;
            color: #58a6ff;
        }

        .stat {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #21262d;
        }

        .stat:last-child {
            border-bottom: none;
        }

        .stat-label {
            color: #8b949e;
            font-size: 13px;
        }

        .stat-value {
            color: #c9d1d9;
            font-weight: 600;
            font-size: 13px;
        }

        .legend {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(22, 27, 34, 0.95);
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 15px;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .legend h3 {
            font-size: 14px;
            margin-bottom: 10px;
            color: #58a6ff;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin: 8px 0;
            font-size: 12px;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .info-panel {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(22, 27, 34, 0.95);
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 20px;
            z-index: 1000;
            max-width: 400px;
            max-height: 80vh;
            overflow-y: auto;
            backdrop-filter: blur(10px);
            display: none;
        }

        .info-panel.visible {
            display: block;
        }

        .info-panel h3 {
            color: #58a6ff;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .info-panel .memory-text {
            color: #c9d1d9;
            line-height: 1.6;
            margin-bottom: 15px;
            padding: 10px;
            background: #161b22;
            border-radius: 4px;
        }

        .info-panel .memory-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 15px;
        }

        .info-panel .tag {
            background: #1f6feb;
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
        }

        .info-panel .connections {
            margin-top: 15px;
        }

        .info-panel .connection-item {
            padding: 8px;
            margin: 5px 0;
            background: #161b22;
            border-radius: 4px;
            font-size: 12px;
            border-left: 3px solid #58a6ff;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            color: #8b949e;
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            width: 24px;
            height: 24px;
            line-height: 24px;
        }

        .close-btn:hover {
            color: #c9d1d9;
        }

        .instructions {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(22, 27, 34, 0.95);
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 15px;
            z-index: 1000;
            font-size: 12px;
            color: #8b949e;
            backdrop-filter: blur(10px);
        }

        .instructions div {
            margin: 5px 0;
        }

        .node {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .node:hover {
            stroke-width: 3px;
        }

        .node.selected {
            stroke: #58a6ff;
            stroke-width: 4px;
        }

        .link {
            stroke: #30363d;
            stroke-opacity: 0.6;
            transition: all 0.3s ease;
        }

        .link.highlighted {
            stroke: #58a6ff;
            stroke-opacity: 1;
            stroke-width: 2px;
        }

        .node-label {
            font-size: 10px;
            fill: #8b949e;
            pointer-events: none;
            text-anchor: middle;
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #161b22;
        }

        ::-webkit-scrollbar-thumb {
            background: #30363d;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #484f58;
        }
    </style>
</head>
<body>
    <div id="graph-container">
        <svg id="graph"></svg>
        
        <div class="controls">
            <h2>üìä Graph Statistics</h2>
            <div class="stat">
                <span class="stat-label">Total Nodes</span>
                <span class="stat-value">75</span>
            </div>
            <div class="stat">
                <span class="stat-label">Total Edges</span>
                <span class="stat-value">464</span>
            </div>
            <div class="stat">
                <span class="stat-label">Components</span>
                <span class="stat-value">1</span>
            </div>
            <div class="stat">
                <span class="stat-label">Avg Degree</span>
                <span class="stat-value">6.19</span>
            </div>
            <div class="stat">
                <span class="stat-label">Density</span>
                <span class="stat-value">0.0836</span>
            </div>
        </div>

        <div class="legend">
            <h3>üé® Categories</h3>
            <div id="legend-items"></div>
        </div>

        <div class="info-panel" id="info-panel">
            <button class="close-btn" onclick="closeInfoPanel()">√ó</button>
            <div id="info-content"></div>
        </div>

        <div class="instructions">
            <div><strong>üñ±Ô∏è Controls:</strong></div>
            <div>‚Ä¢ Click node to view details</div>
            <div>‚Ä¢ Drag nodes to reposition</div>
            <div>‚Ä¢ Scroll to zoom in/out</div>
            <div>‚Ä¢ Drag background to pan</div>
        </div>
    </div>

    <script>
        // Graph data
        const graphData = {
        "nodes": [
                {
                        "id": 1,
                        "label": "Python is a high-level, interpreted programming language known for its simplicit...",
                        "category": "programming"
                },
                {
                        "id": 2,
                        "label": "JavaScript is the language of the web, running in browsers and servers via Node....",
                        "category": "programming"
                },
                {
                        "id": 3,
                        "label": "TypeScript adds static typing to JavaScript, making code more maintainable.",
                        "category": "programming"
                },
                {
                        "id": 4,
                        "label": "Rust provides memory safety without garbage collection through ownership.",
                        "category": "programming"
                },
                {
                        "id": 5,
                        "label": "Go is designed for concurrent programming and scalability at Google.",
                        "category": "programming"
                },
                {
                        "id": 6,
                        "label": "Java is a class-based, object-oriented language that runs on the JVM.",
                        "category": "programming"
                },
                {
                        "id": 7,
                        "label": "C++ is a powerful systems programming language with manual memory management.",
                        "category": "programming"
                },
                {
                        "id": 8,
                        "label": "Swift is Apple's modern language for iOS and macOS development.",
                        "category": "programming"
                },
                {
                        "id": 9,
                        "label": "Kotlin is a modern language for Android development, interoperable with Java.",
                        "category": "programming"
                },
                {
                        "id": 10,
                        "label": "Ruby is known for its elegant syntax and the Rails web framework.",
                        "category": "programming"
                },
                {
                        "id": 11,
                        "label": "Machine learning is a subset of AI that learns patterns from data.",
                        "category": "ai"
                },
                {
                        "id": 12,
                        "label": "Deep learning uses neural networks with multiple layers for complex tasks.",
                        "category": "ai"
                },
                {
                        "id": 13,
                        "label": "Neural networks are inspired by biological neurons in the human brain.",
                        "category": "ai"
                },
                {
                        "id": 14,
                        "label": "Transformers revolutionized NLP with attention mechanisms.",
                        "category": "ai"
                },
                {
                        "id": 15,
                        "label": "GPT models use transformer architecture for text generation.",
                        "category": "ai"
                },
                {
                        "id": 16,
                        "label": "BERT is a bidirectional transformer model for understanding context.",
                        "category": "ai"
                },
                {
                        "id": 17,
                        "label": "Convolutional Neural Networks (CNNs) excel at image recognition.",
                        "category": "ai"
                },
                {
                        "id": 18,
                        "label": "Recurrent Neural Networks (RNNs) process sequential data like text.",
                        "category": "ai"
                },
                {
                        "id": 19,
                        "label": "Reinforcement learning trains agents through rewards and penalties.",
                        "category": "ai"
                },
                {
                        "id": 20,
                        "label": "Transfer learning reuses pre-trained models for new tasks.",
                        "category": "ai"
                },
                {
                        "id": 21,
                        "label": "Embeddings represent words or concepts as dense vectors.",
                        "category": "ai"
                },
                {
                        "id": 22,
                        "label": "Vector databases enable fast similarity search for embeddings.",
                        "category": "ai"
                },
                {
                        "id": 23,
                        "label": "RAG combines retrieval and generation for better AI responses.",
                        "category": "ai"
                },
                {
                        "id": 24,
                        "label": "Fine-tuning adapts pre-trained models to specific domains.",
                        "category": "ai"
                },
                {
                        "id": 25,
                        "label": "Prompt engineering optimizes inputs for language models.",
                        "category": "ai"
                },
                {
                        "id": 26,
                        "label": "PostgreSQL is a powerful open-source relational database with ACID compliance.",
                        "category": "databases"
                },
                {
                        "id": 27,
                        "label": "MySQL is a popular open-source relational database management system.",
                        "category": "databases"
                },
                {
                        "id": 28,
                        "label": "MongoDB is a document-oriented NoSQL database for flexible schemas.",
                        "category": "databases"
                },
                {
                        "id": 29,
                        "label": "Redis is an in-memory data structure store used for caching.",
                        "category": "databases"
                },
                {
                        "id": 30,
                        "label": "Elasticsearch is a distributed search and analytics engine.",
                        "category": "databases"
                },
                {
                        "id": 31,
                        "label": "SQLite is a lightweight embedded database for local storage.",
                        "category": "databases"
                },
                {
                        "id": 32,
                        "label": "Cassandra is a distributed NoSQL database for high availability.",
                        "category": "databases"
                },
                {
                        "id": 33,
                        "label": "DynamoDB is AWS's managed NoSQL database service.",
                        "category": "databases"
                },
                {
                        "id": 34,
                        "label": "Neo4j is a graph database for connected data relationships.",
                        "category": "databases"
                },
                {
                        "id": 35,
                        "label": "Vector databases like pgvector enable semantic search.",
                        "category": "databases"
                },
                {
                        "id": 36,
                        "label": "React is a JavaScript library for building user interfaces.",
                        "category": "webdev"
                },
                {
                        "id": 37,
                        "label": "Vue.js is a progressive framework for building web applications.",
                        "category": "webdev"
                },
                {
                        "id": 38,
                        "label": "Angular is a comprehensive framework by Google for web apps.",
                        "category": "webdev"
                },
                {
                        "id": 39,
                        "label": "Next.js is a React framework with server-side rendering.",
                        "category": "webdev"
                },
                {
                        "id": 40,
                        "label": "Svelte compiles components to efficient vanilla JavaScript.",
                        "category": "webdev"
                },
                {
                        "id": 41,
                        "label": "Tailwind CSS is a utility-first CSS framework.",
                        "category": "webdev"
                },
                {
                        "id": 42,
                        "label": "GraphQL is a query language for APIs with precise data fetching.",
                        "category": "webdev"
                },
                {
                        "id": 43,
                        "label": "REST APIs use HTTP methods for CRUD operations.",
                        "category": "webdev"
                },
                {
                        "id": 44,
                        "label": "WebSockets enable real-time bidirectional communication.",
                        "category": "webdev"
                },
                {
                        "id": 45,
                        "label": "Progressive Web Apps (PWAs) work offline and feel native.",
                        "category": "webdev"
                },
                {
                        "id": 46,
                        "label": "Docker containers package applications with their dependencies.",
                        "category": "devops"
                },
                {
                        "id": 47,
                        "label": "Kubernetes orchestrates containerized applications at scale.",
                        "category": "devops"
                },
                {
                        "id": 48,
                        "label": "CI/CD pipelines automate testing and deployment processes.",
                        "category": "devops"
                },
                {
                        "id": 49,
                        "label": "GitHub Actions provides CI/CD integrated with Git repositories.",
                        "category": "devops"
                },
                {
                        "id": 50,
                        "label": "Terraform enables infrastructure as code for cloud resources.",
                        "category": "devops"
                },
                {
                        "id": 51,
                        "label": "Ansible automates configuration management and deployment.",
                        "category": "devops"
                },
                {
                        "id": 52,
                        "label": "Prometheus monitors systems and collects metrics.",
                        "category": "devops"
                },
                {
                        "id": 53,
                        "label": "Grafana visualizes metrics and creates dashboards.",
                        "category": "devops"
                },
                {
                        "id": 54,
                        "label": "Load balancers distribute traffic across multiple servers.",
                        "category": "devops"
                },
                {
                        "id": 55,
                        "label": "Microservices architecture splits applications into small services.",
                        "category": "devops"
                },
                {
                        "id": 56,
                        "label": "Pandas is a Python library for data manipulation and analysis.",
                        "category": "datascience"
                },
                {
                        "id": 57,
                        "label": "NumPy provides support for large multi-dimensional arrays.",
                        "category": "datascience"
                },
                {
                        "id": 58,
                        "label": "Matplotlib creates static, animated, and interactive visualizations.",
                        "category": "datascience"
                },
                {
                        "id": 59,
                        "label": "Scikit-learn offers machine learning algorithms for Python.",
                        "category": "datascience"
                },
                {
                        "id": 60,
                        "label": "Jupyter notebooks enable interactive data analysis.",
                        "category": "datascience"
                },
                {
                        "id": 61,
                        "label": "Data cleaning prepares raw data for analysis.",
                        "category": "datascience"
                },
                {
                        "id": 62,
                        "label": "Feature engineering creates informative input variables.",
                        "category": "datascience"
                },
                {
                        "id": 63,
                        "label": "Cross-validation evaluates model performance reliably.",
                        "category": "datascience"
                },
                {
                        "id": 64,
                        "label": "A/B testing compares two versions to determine which performs better.",
                        "category": "datascience"
                },
                {
                        "id": 65,
                        "label": "Statistical significance determines if results are meaningful.",
                        "category": "datascience"
                },
                {
                        "id": 66,
                        "label": "Encryption protects data by converting it into unreadable format.",
                        "category": "security"
                },
                {
                        "id": 67,
                        "label": "HTTPS secures web communication with SSL/TLS certificates.",
                        "category": "security"
                },
                {
                        "id": 68,
                        "label": "OAuth 2.0 is an authorization framework for secure API access.",
                        "category": "security"
                },
                {
                        "id": 69,
                        "label": "JWT tokens authenticate users in stateless applications.",
                        "category": "security"
                },
                {
                        "id": 70,
                        "label": "SQL injection attacks exploit database vulnerabilities.",
                        "category": "security"
                },
                {
                        "id": 71,
                        "label": "Cross-Site Scripting (XSS) injects malicious scripts.",
                        "category": "security"
                },
                {
                        "id": 72,
                        "label": "CSRF attacks trick users into unwanted actions.",
                        "category": "security"
                },
                {
                        "id": 73,
                        "label": "Password hashing uses algorithms like bcrypt for security.",
                        "category": "security"
                },
                {
                        "id": 74,
                        "label": "Two-factor authentication adds extra security layer.",
                        "category": "security"
                },
                {
                        "id": 75,
                        "label": "Zero-trust security assumes no implicit trust.",
                        "category": "security"
                }
        ],
        "edges": [
                {
                        "source": 22,
                        "target": 35,
                        "weight": 0.8323488255374578
                },
                {
                        "source": 37,
                        "target": 39,
                        "weight": 0.8086127890196367
                },
                {
                        "source": 62,
                        "target": 25,
                        "weight": 0.797580448785618
                },
                {
                        "source": 48,
                        "target": 49,
                        "weight": 0.7843988119384604
                },
                {
                        "source": 38,
                        "target": 37,
                        "weight": 0.774057575472588
                },
                {
                        "source": 70,
                        "target": 71,
                        "weight": 0.7717620560609024
                },
                {
                        "source": 15,
                        "target": 14,
                        "weight": 0.7712649642187415
                },
                {
                        "source": 36,
                        "target": 39,
                        "weight": 0.7705794924130502
                },
                {
                        "source": 31,
                        "target": 29,
                        "weight": 0.7635744860461852
                },
                {
                        "source": 37,
                        "target": 36,
                        "weight": 0.7585932967088304
                },
                {
                        "source": 48,
                        "target": 51,
                        "weight": 0.7573043226021381
                },
                {
                        "source": 21,
                        "target": 22,
                        "weight": 0.7551089863553602
                },
                {
                        "source": 72,
                        "target": 71,
                        "weight": 0.7530560541798063
                },
                {
                        "source": 24,
                        "target": 20,
                        "weight": 0.7520368873241763
                },
                {
                        "source": 6,
                        "target": 2,
                        "weight": 0.7518123493716464
                },
                {
                        "source": 25,
                        "target": 24,
                        "weight": 0.7512044545091621
                },
                {
                        "source": 25,
                        "target": 15,
                        "weight": 0.7486483132606016
                },
                {
                        "source": 2,
                        "target": 39,
                        "weight": 0.7471231858395662
                },
                {
                        "source": 47,
                        "target": 46,
                        "weight": 0.7461559262804912
                },
                {
                        "source": 20,
                        "target": 12,
                        "weight": 0.7450469823387827
                },
                {
                        "source": 25,
                        "target": 14,
                        "weight": 0.7390322432128658
                },
                {
                        "source": 3,
                        "target": 40,
                        "weight": 0.7376817216788121
                },
                {
                        "source": 53,
                        "target": 58,
                        "weight": 0.7348785624042401
                },
                {
                        "source": 53,
                        "target": 52,
                        "weight": 0.7341885045043496
                },
                {
                        "source": 6,
                        "target": 9,
                        "weight": 0.7309555111442596
                },
                {
                        "source": 69,
                        "target": 68,
                        "weight": 0.730643608540686
                },
                {
                        "source": 33,
                        "target": 32,
                        "weight": 0.728602796002541
                },
                {
                        "source": 58,
                        "target": 60,
                        "weight": 0.7262524144344276
                },
                {
                        "source": 27,
                        "target": 31,
                        "weight": 0.7250322506421075
                },
                {
                        "source": 36,
                        "target": 2,
                        "weight": 0.7241697456557782
                },
                {
                        "source": 61,
                        "target": 56,
                        "weight": 0.7238261222974953
                },
                {
                        "source": 16,
                        "target": 15,
                        "weight": 0.7217102806225263
                },
                {
                        "source": 33,
                        "target": 28,
                        "weight": 0.7216508375147713
                },
                {
                        "source": 40,
                        "target": 2,
                        "weight": 0.7214350395349582
                },
                {
                        "source": 8,
                        "target": 9,
                        "weight": 0.7190555537392519
                },
                {
                        "source": 32,
                        "target": 28,
                        "weight": 0.718695922316493
                },
                {
                        "source": 37,
                        "target": 41,
                        "weight": 0.7174529493515854
                },
                {
                        "source": 34,
                        "target": 28,
                        "weight": 0.7172208770985317
                },
                {
                        "source": 16,
                        "target": 14,
                        "weight": 0.7145024131091191
                },
                {
                        "source": 4,
                        "target": 7,
                        "weight": 0.7140745932730704
                },
                {
                        "source": 67,
                        "target": 74,
                        "weight": 0.7132572252015597
                },
                {
                        "source": 37,
                        "target": 45,
                        "weight": 0.7126769959838498
                },
                {
                        "source": 56,
                        "target": 60,
                        "weight": 0.7126328841536724
                },
                {
                        "source": 40,
                        "target": 37,
                        "weight": 0.7117683152692604
                },
                {
                        "source": 38,
                        "target": 36,
                        "weight": 0.7104336605962771
                },
                {
                        "source": 2,
                        "target": 37,
                        "weight": 0.7100543279379896
                },
                {
                        "source": 63,
                        "target": 20,
                        "weight": 0.7099047978174694
                },
                {
                        "source": 27,
                        "target": 26,
                        "weight": 0.7097725884398094
                },
                {
                        "source": 10,
                        "target": 2,
                        "weight": 0.7086420335886193
                },
                {
                        "source": 72,
                        "target": 70,
                        "weight": 0.7074136891177685
                },
                {
                        "source": 24,
                        "target": 63,
                        "weight": 0.7072934779416036
                },
                {
                        "source": 68,
                        "target": 74,
                        "weight": 0.7066374339497667
                },
                {
                        "source": 39,
                        "target": 38,
                        "weight": 0.7063261667359806
                },
                {
                        "source": 28,
                        "target": 31,
                        "weight": 0.7049971672673216
                },
                {
                        "source": 42,
                        "target": 34,
                        "weight": 0.7037246146037938
                },
                {
                        "source": 20,
                        "target": 15,
                        "weight": 0.703516999402199
                },
                {
                        "source": 8,
                        "target": 10,
                        "weight": 0.7031046656475644
                },
                {
                        "source": 26,
                        "target": 35,
                        "weight": 0.7013542385763463
                },
                {
                        "source": 69,
                        "target": 74,
                        "weight": 0.7006724632517
                },
                {
                        "source": 36,
                        "target": 40,
                        "weight": 0.7000406168910148
                },
                {
                        "source": 20,
                        "target": 19,
                        "weight": 0.6991374711969482
                },
                {
                        "source": 18,
                        "target": 12,
                        "weight": 0.6986533884110587
                },
                {
                        "source": 28,
                        "target": 27,
                        "weight": 0.6985043757266414
                },
                {
                        "source": 48,
                        "target": 47,
                        "weight": 0.6979884960151104
                },
                {
                        "source": 2,
                        "target": 3,
                        "weight": 0.6971494366413966
                },
                {
                        "source": 61,
                        "target": 60,
                        "weight": 0.6970844111012631
                },
                {
                        "source": 62,
                        "target": 24,
                        "weight": 0.6967619432693283
                },
                {
                        "source": 50,
                        "target": 51,
                        "weight": 0.6967478172874833
                },
                {
                        "source": 2,
                        "target": 38,
                        "weight": 0.6967306756502538
                },
                {
                        "source": 1,
                        "target": 56,
                        "weight": 0.696717503097527
                },
                {
                        "source": 39,
                        "target": 41,
                        "weight": 0.6958008337294912
                },
                {
                        "source": 48,
                        "target": 46,
                        "weight": 0.695767432283322
                },
                {
                        "source": 23,
                        "target": 25,
                        "weight": 0.6957612011224081
                },
                {
                        "source": 31,
                        "target": 22,
                        "weight": 0.6947519534990424
                },
                {
                        "source": 46,
                        "target": 55,
                        "weight": 0.693820906054598
                },
                {
                        "source": 41,
                        "target": 40,
                        "weight": 0.69376956392792
                },
                {
                        "source": 15,
                        "target": 18,
                        "weight": 0.6925351098937248
                },
                {
                        "source": 30,
                        "target": 32,
                        "weight": 0.6923487791577878
                },
                {
                        "source": 74,
                        "target": 73,
                        "weight": 0.6919272439394791
                },
                {
                        "source": 38,
                        "target": 45,
                        "weight": 0.6916285136876983
                },
                {
                        "source": 39,
                        "target": 40,
                        "weight": 0.6911479319354352
                },
                {
                        "source": 21,
                        "target": 35,
                        "weight": 0.6907800431230502
                },
                {
                        "source": 51,
                        "target": 47,
                        "weight": 0.6906699836452403
                },
                {
                        "source": 24,
                        "target": 14,
                        "weight": 0.690001710205788
                },
                {
                        "source": 59,
                        "target": 11,
                        "weight": 0.6887236646690773
                },
                {
                        "source": 14,
                        "target": 23,
                        "weight": 0.6884588096975057
                },
                {
                        "source": 29,
                        "target": 32,
                        "weight": 0.6876464103477455
                },
                {
                        "source": 14,
                        "target": 62,
                        "weight": 0.6872412249278148
                },
                {
                        "source": 68,
                        "target": 38,
                        "weight": 0.6870062418924542
                },
                {
                        "source": 47,
                        "target": 55,
                        "weight": 0.6869839325152216
                },
                {
                        "source": 17,
                        "target": 12,
                        "weight": 0.6868480310070451
                },
                {
                        "source": 13,
                        "target": 12,
                        "weight": 0.6865246143125363
                },
                {
                        "source": 44,
                        "target": 2,
                        "weight": 0.6858313459560289
                },
                {
                        "source": 12,
                        "target": 11,
                        "weight": 0.6857534774390228
                },
                {
                        "source": 8,
                        "target": 40,
                        "weight": 0.6851765850380402
                },
                {
                        "source": 27,
                        "target": 70,
                        "weight": 0.6848053787830215
                },
                {
                        "source": 16,
                        "target": 25,
                        "weight": 0.6841695738628871
                },
                {
                        "source": 30,
                        "target": 28,
                        "weight": 0.6830080222645385
                },
                {
                        "source": 9,
                        "target": 5,
                        "weight": 0.6828112604014843
                },
                {
                        "source": 15,
                        "target": 23,
                        "weight": 0.6828041911326832
                },
                {
                        "source": 67,
                        "target": 44,
                        "weight": 0.6818508682932496
                },
                {
                        "source": 28,
                        "target": 42,
                        "weight": 0.6816371163668701
                },
                {
                        "source": 21,
                        "target": 12,
                        "weight": 0.6814948990558556
                },
                {
                        "source": 56,
                        "target": 59,
                        "weight": 0.6814916181617016
                },
                {
                        "source": 73,
                        "target": 66,
                        "weight": 0.6814727456750003
                },
                {
                        "source": 33,
                        "target": 30,
                        "weight": 0.6813068489296155
                },
                {
                        "source": 45,
                        "target": 2,
                        "weight": 0.6812929551073673
                },
                {
                        "source": 14,
                        "target": 12,
                        "weight": 0.6812748238584146
                },
                {
                        "source": 20,
                        "target": 25,
                        "weight": 0.6812253639551278
                },
                {
                        "source": 38,
                        "target": 5,
                        "weight": 0.6806868839389855
                },
                {
                        "source": 5,
                        "target": 7,
                        "weight": 0.6805443505241485
                },
                {
                        "source": 28,
                        "target": 29,
                        "weight": 0.6800948529835307
                },
                {
                        "source": 34,
                        "target": 32,
                        "weight": 0.679883279787038
                },
                {
                        "source": 12,
                        "target": 24,
                        "weight": 0.6796884656769648
                },
                {
                        "source": 62,
                        "target": 15,
                        "weight": 0.6786921172849766
                },
                {
                        "source": 18,
                        "target": 23,
                        "weight": 0.6784150905488511
                },
                {
                        "source": 43,
                        "target": 42,
                        "weight": 0.6783345256613841
                },
                {
                        "source": 23,
                        "target": 62,
                        "weight": 0.6781967927122236
                },
                {
                        "source": 56,
                        "target": 58,
                        "weight": 0.6778670032847086
                },
                {
                        "source": 28,
                        "target": 26,
                        "weight": 0.6777471299395459
                },
                {
                        "source": 24,
                        "target": 19,
                        "weight": 0.6772361814622069
                },
                {
                        "source": 18,
                        "target": 20,
                        "weight": 0.6770278365020281
                },
                {
                        "source": 38,
                        "target": 3,
                        "weight": 0.6763131489286311
                },
                {
                        "source": 1,
                        "target": 6,
                        "weight": 0.6762926207733092
                },
                {
                        "source": 44,
                        "target": 45,
                        "weight": 0.6762008464038789
                },
                {
                        "source": 32,
                        "target": 26,
                        "weight": 0.6759859164787849
                },
                {
                        "source": 36,
                        "target": 42,
                        "weight": 0.6759347859254584
                },
                {
                        "source": 38,
                        "target": 40,
                        "weight": 0.6757329896387306
                },
                {
                        "source": 70,
                        "target": 31,
                        "weight": 0.6755977946276008
                },
                {
                        "source": 39,
                        "target": 3,
                        "weight": 0.6752532538457688
                },
                {
                        "source": 60,
                        "target": 53,
                        "weight": 0.6752503723539762
                },
                {
                        "source": 54,
                        "target": 47,
                        "weight": 0.6752019051230858
                },
                {
                        "source": 67,
                        "target": 66,
                        "weight": 0.6751038927632129
                },
                {
                        "source": 36,
                        "target": 29,
                        "weight": 0.6747701423384058
                },
                {
                        "source": 36,
                        "target": 10,
                        "weight": 0.6744837073839635
                },
                {
                        "source": 53,
                        "target": 30,
                        "weight": 0.6740888377020787
                },
                {
                        "source": 42,
                        "target": 53,
                        "weight": 0.6739886425624972
                },
                {
                        "source": 8,
                        "target": 41,
                        "weight": 0.6737224424005058
                },
                {
                        "source": 5,
                        "target": 47,
                        "weight": 0.6727012187191318
                },
                {
                        "source": 20,
                        "target": 14,
                        "weight": 0.6725204582607267
                },
                {
                        "source": 42,
                        "target": 30,
                        "weight": 0.6713006423310435
                },
                {
                        "source": 35,
                        "target": 34,
                        "weight": 0.671034306879756
                },
                {
                        "source": 50,
                        "target": 48,
                        "weight": 0.6707789155450294
                },
                {
                        "source": 37,
                        "target": 10,
                        "weight": 0.6706484809554244
                },
                {
                        "source": 10,
                        "target": 6,
                        "weight": 0.6704742690050425
                },
                {
                        "source": 69,
                        "target": 73,
                        "weight": 0.670379842354104
                },
                {
                        "source": 31,
                        "target": 26,
                        "weight": 0.670196122979041
                },
                {
                        "source": 69,
                        "target": 67,
                        "weight": 0.6701824189415666
                },
                {
                        "source": 16,
                        "target": 23,
                        "weight": 0.6695496941447098
                },
                {
                        "source": 15,
                        "target": 24,
                        "weight": 0.6694896774814041
                },
                {
                        "source": 73,
                        "target": 70,
                        "weight": 0.6694090725129094
                },
                {
                        "source": 8,
                        "target": 2,
                        "weight": 0.6693008280571878
                },
                {
                        "source": 30,
                        "target": 35,
                        "weight": 0.6690962104655512
                },
                {
                        "source": 11,
                        "target": 20,
                        "weight": 0.6688184026225513
                },
                {
                        "source": 7,
                        "target": 6,
                        "weight": 0.668787325831063
                },
                {
                        "source": 38,
                        "target": 41,
                        "weight": 0.6687482250594499
                },
                {
                        "source": 75,
                        "target": 69,
                        "weight": 0.6686035115864525
                },
                {
                        "source": 57,
                        "target": 60,
                        "weight": 0.6679671701131678
                },
                {
                        "source": 41,
                        "target": 45,
                        "weight": 0.6671118200840012
                },
                {
                        "source": 10,
                        "target": 27,
                        "weight": 0.6669712555756904
                },
                {
                        "source": 40,
                        "target": 45,
                        "weight": 0.6668330571997063
                },
                {
                        "source": 14,
                        "target": 18,
                        "weight": 0.6668261843046303
                },
                {
                        "source": 67,
                        "target": 68,
                        "weight": 0.6666862993185054
                },
                {
                        "source": 41,
                        "target": 36,
                        "weight": 0.6666401106507598
                },
                {
                        "source": 21,
                        "target": 62,
                        "weight": 0.6661954233517602
                },
                {
                        "source": 17,
                        "target": 18,
                        "weight": 0.6653969250313329
                },
                {
                        "source": 31,
                        "target": 32,
                        "weight": 0.6650672582362012
                },
                {
                        "source": 61,
                        "target": 62,
                        "weight": 0.665028219696077
                },
                {
                        "source": 2,
                        "target": 71,
                        "weight": 0.664995462579114
                },
                {
                        "source": 5,
                        "target": 6,
                        "weight": 0.6643163522144507
                },
                {
                        "source": 1,
                        "target": 10,
                        "weight": 0.6638627819360372
                },
                {
                        "source": 34,
                        "target": 29,
                        "weight": 0.6638619797310376
                },
                {
                        "source": 62,
                        "target": 16,
                        "weight": 0.6636687379102342
                },
                {
                        "source": 35,
                        "target": 28,
                        "weight": 0.6634869333451593
                },
                {
                        "source": 10,
                        "target": 41,
                        "weight": 0.6630601972236466
                },
                {
                        "source": 45,
                        "target": 69,
                        "weight": 0.6625045144128566
                },
                {
                        "source": 57,
                        "target": 56,
                        "weight": 0.6624063029803446
                },
                {
                        "source": 15,
                        "target": 12,
                        "weight": 0.6618270966013404
                },
                {
                        "source": 49,
                        "target": 51,
                        "weight": 0.6614226958607257
                },
                {
                        "source": 17,
                        "target": 20,
                        "weight": 0.6613309143861665
                },
                {
                        "source": 18,
                        "target": 13,
                        "weight": 0.6611135693750687
                },
                {
                        "source": 50,
                        "target": 47,
                        "weight": 0.6609800808231342
                },
                {
                        "source": 4,
                        "target": 29,
                        "weight": 0.6606023800928765
                },
                {
                        "source": 30,
                        "target": 29,
                        "weight": 0.6602836152847503
                },
                {
                        "source": 5,
                        "target": 8,
                        "weight": 0.6600911535751726
                },
                {
                        "source": 5,
                        "target": 32,
                        "weight": 0.6596455712320659
                },
                {
                        "source": 37,
                        "target": 42,
                        "weight": 0.6596448331454599
                },
                {
                        "source": 35,
                        "target": 42,
                        "weight": 0.6596033310911744
                },
                {
                        "source": 17,
                        "target": 14,
                        "weight": 0.6594933728883018
                },
                {
                        "source": 45,
                        "target": 39,
                        "weight": 0.6593492594079711
                },
                {
                        "source": 27,
                        "target": 34,
                        "weight": 0.6593356751021378
                },
                {
                        "source": 27,
                        "target": 32,
                        "weight": 0.6592442079007949
                },
                {
                        "source": 73,
                        "target": 67,
                        "weight": 0.658837481949319
                },
                {
                        "source": 10,
                        "target": 26,
                        "weight": 0.6586229605435523
                },
                {
                        "source": 61,
                        "target": 24,
                        "weight": 0.658503088093505
                },
                {
                        "source": 31,
                        "target": 35,
                        "weight": 0.6584992047196213
                },
                {
                        "source": 59,
                        "target": 1,
                        "weight": 0.6581778161412821
                },
                {
                        "source": 15,
                        "target": 21,
                        "weight": 0.6581693508773936
                },
                {
                        "source": 19,
                        "target": 12,
                        "weight": 0.657545286569044
                },
                {
                        "source": 34,
                        "target": 31,
                        "weight": 0.6571869765443523
                },
                {
                        "source": 29,
                        "target": 27,
                        "weight": 0.6571638932069762
                },
                {
                        "source": 8,
                        "target": 45,
                        "weight": 0.6565398269429504
                },
                {
                        "source": 39,
                        "target": 42,
                        "weight": 0.6564253444741014
                },
                {
                        "source": 26,
                        "target": 7,
                        "weight": 0.6561986567252458
                },
                {
                        "source": 27,
                        "target": 33,
                        "weight": 0.656117412063328
                },
                {
                        "source": 1,
                        "target": 2,
                        "weight": 0.6559526370451177
                },
                {
                        "source": 30,
                        "target": 34,
                        "weight": 0.655837382674403
                },
                {
                        "source": 55,
                        "target": 54,
                        "weight": 0.655397226001137
                },
                {
                        "source": 23,
                        "target": 20,
                        "weight": 0.6553902643319951
                },
                {
                        "source": 10,
                        "target": 7,
                        "weight": 0.6553814847014037
                },
                {
                        "source": 72,
                        "target": 69,
                        "weight": 0.65510771852697
                },
                {
                        "source": 6,
                        "target": 8,
                        "weight": 0.6545789649296251
                },
                {
                        "source": 46,
                        "target": 51,
                        "weight": 0.6544773920054265
                },
                {
                        "source": 72,
                        "target": 74,
                        "weight": 0.6541612704348518
                },
                {
                        "source": 13,
                        "target": 17,
                        "weight": 0.6539615975096814
                },
                {
                        "source": 31,
                        "target": 30,
                        "weight": 0.6532955670901521
                },
                {
                        "source": 21,
                        "target": 17,
                        "weight": 0.6531366739744126
                },
                {
                        "source": 4,
                        "target": 5,
                        "weight": 0.6530433188063791
                },
                {
                        "source": 49,
                        "target": 50,
                        "weight": 0.6528535366027575
                },
                {
                        "source": 1,
                        "target": 7,
                        "weight": 0.6525164851709104
                },
                {
                        "source": 21,
                        "target": 18,
                        "weight": 0.6523756478905091
                },
                {
                        "source": 66,
                        "target": 72,
                        "weight": 0.6521573442286674
                },
                {
                        "source": 26,
                        "target": 34,
                        "weight": 0.652082582404692
                },
                {
                        "source": 52,
                        "target": 30,
                        "weight": 0.6520634507395696
                },
                {
                        "source": 63,
                        "target": 64,
                        "weight": 0.6520423997602309
                },
                {
                        "source": 64,
                        "target": 65,
                        "weight": 0.6519920077516796
                },
                {
                        "source": 74,
                        "target": 75,
                        "weight": 0.6507245373206405
                },
                {
                        "source": 43,
                        "target": 68,
                        "weight": 0.650482780131709
                },
                {
                        "source": 53,
                        "target": 37,
                        "weight": 0.6503730297234285
                },
                {
                        "source": 47,
                        "target": 32,
                        "weight": 0.6502250518882615
                },
                {
                        "source": 25,
                        "target": 12,
                        "weight": 0.65017917605801
                },
                {
                        "source": 59,
                        "target": 60,
                        "weight": 0.6501071681610369
                }
        ],
        "metadata": {
                "total_nodes": 75,
                "total_edges": 232,
                "category": null
        }
};

        // Configuration
        const width = window.innerWidth;
        const height = window.innerHeight;

        // Color scale for categories
        const categories = [...new Set(graphData.nodes.map(n => n.category || 'uncategorized'))];
        const colorScale = d3.scaleOrdinal()
            .domain(categories)
            .range(d3.schemeTableau10);

        // Create legend
        const legendContainer = d3.select('#legend-items');
        categories.forEach(category => {
            const item = legendContainer.append('div')
                .attr('class', 'legend-item');
            
            item.append('div')
                .attr('class', 'legend-color')
                .style('background-color', colorScale(category));
            
            item.append('span')
                .text(category || 'uncategorized');
        });

        // Create SVG
        const svg = d3.select('#graph')
            .attr('width', width)
            .attr('height', height);

        // Create zoom behavior
        const zoom = d3.zoom()
            .scaleExtent([0.1, 10])
            .on('zoom', (event) => {
                container.attr('transform', event.transform);
            });

        svg.call(zoom);

        // Container for graph elements
        const container = svg.append('g');

        // Create force simulation
        const simulation = d3.forceSimulation(graphData.nodes)
            .force('link', d3.forceLink(graphData.edges)
                .id(d => d.id)
                .distance(d => 100 / (d.weight + 0.1))
                .strength(d => d.weight))
            .force('charge', d3.forceManyBody()
                .strength(-300)
                .distanceMax(400))
            .force('center', d3.forceCenter(width / 2, height / 2))
            .force('collision', d3.forceCollide().radius(30));

        // Create links
        const link = container.append('g')
            .selectAll('line')
            .data(graphData.edges)
            .join('line')
            .attr('class', 'link')
            .attr('stroke-width', d => Math.sqrt(d.weight) * 2);

        // Create nodes
        const node = container.append('g')
            .selectAll('circle')
            .data(graphData.nodes)
            .join('circle')
            .attr('class', 'node')
            .attr('r', d => {
                // Size based on number of connections
                const connections = graphData.edges.filter(e => 
                    e.source.id === d.id || e.target.id === d.id
                ).length;
                return 5 + Math.sqrt(connections) * 3;
            })
            .attr('fill', d => colorScale(d.category || 'uncategorized'))
            .attr('stroke', '#161b22')
            .attr('stroke-width', 2)
            .call(drag(simulation))
            .on('click', (event, d) => showNodeInfo(d))
            .on('mouseover', (event, d) => highlightNode(d))
            .on('mouseout', () => unhighlightAll());

        // Create labels (only for important nodes)
        const label = container.append('g')
            .selectAll('text')
            .data(graphData.nodes.filter(d => {
                const connections = graphData.edges.filter(e => 
                    e.source.id === d.id || e.target.id === d.id
                ).length;
                return connections > 2; // Only label well-connected nodes
            }))
            .join('text')
            .attr('class', 'node-label')
            .attr('dy', -15)
            .text(d => d.label.substring(0, 20) + (d.label.length > 20 ? '...' : ''));

        // Update positions on simulation tick
        simulation.on('tick', () => {
            link
                .attr('x1', d => d.source.x)
                .attr('y1', d => d.source.y)
                .attr('x2', d => d.target.x)
                .attr('y2', d => d.target.y);

            node
                .attr('cx', d => d.x)
                .attr('cy', d => d.y);

            label
                .attr('x', d => d.x)
                .attr('y', d => d.y);
        });

        // Drag behavior
        function drag(simulation) {
            function dragstarted(event) {
                if (!event.active) simulation.alphaTarget(0.3).restart();
                event.subject.fx = event.subject.x;
                event.subject.fy = event.subject.y;
            }

            function dragged(event) {
                event.subject.fx = event.x;
                event.subject.fy = event.y;
            }

            function dragended(event) {
                if (!event.active) simulation.alphaTarget(0);
                event.subject.fx = null;
                event.subject.fy = null;
            }

            return d3.drag()
                .on('start', dragstarted)
                .on('drag', dragged)
                .on('end', dragended);
        }

        // Highlight node and its connections
        function highlightNode(nodeData) {
            // Highlight connected links
            link.classed('highlighted', d => 
                d.source.id === nodeData.id || d.target.id === nodeData.id
            );

            // Highlight connected nodes
            const connectedIds = new Set();
            graphData.edges.forEach(e => {
                if (e.source.id === nodeData.id) connectedIds.add(e.target.id);
                if (e.target.id === nodeData.id) connectedIds.add(e.source.id);
            });

            node.style('opacity', d => 
                d.id === nodeData.id || connectedIds.has(d.id) ? 1 : 0.3
            );
        }

        // Remove highlights
        function unhighlightAll() {
            link.classed('highlighted', false);
            node.style('opacity', 1);
        }

        // Show node information panel
        function showNodeInfo(nodeData) {
            const panel = document.getElementById('info-panel');
            const content = document.getElementById('info-content');

            // Get connections
            const connections = graphData.edges
                .filter(e => e.source.id === nodeData.id || e.target.id === nodeData.id)
                .map(e => {
                    const otherId = e.source.id === nodeData.id ? e.target.id : e.source.id;
                    const otherNode = graphData.nodes.find(n => n.id === otherId);
                    return { node: otherNode, weight: e.weight };
                })
                .sort((a, b) => b.weight - a.weight);

            // Build HTML
            let html = `
                <h3>Memory #${nodeData.id}</h3>
                <div class="memory-text">${nodeData.label}</div>
                <div class="memory-meta">
                    <span class="tag">Category: ${nodeData.category || 'none'}</span>
                    <span class="tag">${connections.length} connections</span>
                </div>
            `;

            if (connections.length > 0) {
                html += '<div class="connections"><strong>Connected to:</strong>';
                connections.slice(0, 5).forEach(conn => {
                    html += `
                        <div class="connection-item">
                            <div style="color: #58a6ff; font-weight: 600;">
                                Similarity: ${(conn.weight * 100).toFixed(1)}%
                            </div>
                            <div style="margin-top: 4px;">
                                ${conn.node.label}
                            </div>
                        </div>
                    `;
                });
                if (connections.length > 5) {
                    html += `<div style="margin-top: 10px; color: #8b949e; font-size: 11px;">
                        ... and ${connections.length - 5} more
                    </div>`;
                }
                html += '</div>';
            }

            content.innerHTML = html;
            panel.classList.add('visible');

            // Highlight selected node
            node.classed('selected', d => d.id === nodeData.id);
        }

        // Close info panel
        function closeInfoPanel() {
            document.getElementById('info-panel').classList.remove('visible');
            node.classed('selected', false);
            unhighlightAll();
        }

        // Initial zoom to fit
        setTimeout(() => {
            const bounds = container.node().getBBox();
            const fullWidth = bounds.width;
            const fullHeight = bounds.height;
            const midX = bounds.x + fullWidth / 2;
            const midY = bounds.y + fullHeight / 2;

            const scale = 0.8 / Math.max(fullWidth / width, fullHeight / height);
            const translate = [width / 2 - scale * midX, height / 2 - scale * midY];

            svg.transition()
                .duration(750)
                .call(zoom.transform, d3.zoomIdentity
                    .translate(translate[0], translate[1])
                    .scale(scale));
        }, 100);
    </script>
</body>
</html>